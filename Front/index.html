<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="index.css">

    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
  integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
  crossorigin="anonymous"
/>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script src="https://unpkg.com/react/umd/react.production.min.js" crossorigin></script>

<script
  src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"
  crossorigin></script>

<script
  src="https://unpkg.com/react-bootstrap@next/dist/react-bootstrap.min.js"
  crossorigin></script>

<script>var Alert = ReactBootstrap.Alert;</script>

<!-- CARDS -->

<div class="row" id="card-container">
  <div class="col-md-3">
    <div class="card">
      <img class="card-img-top" src="..." alt="Card image cap" data-card-id="1"/>
      <div class="card-body">
        <h5 class="card-title">Titulo</h5>
        <p class="card-text">
          Descripción
        </p>
      </div>
     
      <div class="card-body">
        <a href="#" class="card-link">Mas información</a>
        <a href="#" class="card-link">Contacto</a>
      </div>
    </div>
  </div>
</div>

<button id="add-card-button">Agregar Card</button>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.js"></script>
<script>
  $(document).ready(function () {
    // Al hacer clic en el botón de agregar card
    $('#add-card-button').on('click', function () {
      Swal.fire({
        title: 'Nueva Publicacion',
        html: `
          <form id="new-card-form">
            <div class="form-group">
              <label for="image-input">Imagen:</label>
              <input type="file" id="image-input" name="image" accept="image/*" class="form-control" required>
            </div>
            <div class="form-group">
              <label for="description-input">Descripción:</label>
              <textarea id="description-input" name="description" placeholder="Descripción" class="form-control" required></textarea>
            </div>
            <div class="form-group">
              <label for="value-input">Valor:</label>
              <input type="number" id="value-input" name="value" placeholder="Valor" class="form-control" required>
            </div>
          </form>
        `,
        showCancelButton: true,
        focusConfirm: false,
        preConfirm: () => {
          const image = $('#image-input').val();
          const description = $('#description-input').val();
          const value = $('#value-input').val();

          if (!image || !description || !value) {
            Swal.showValidationMessage('Por favor, complete todos los campos');
            return false;
          }

          // Clonar la card original
          const clonedCard = $('.card').first().clone();

          // Modificar la card clonada con los datos del formulario
          clonedCard.find('.card-img-top').attr('src', image);
          clonedCard.find('.card-title').text(description);
          clonedCard.find('.card-text').text('Valor: ' + value);

          // Agregar la card clonada al contenedor
          $('#card-container').append('<div class="col-md-3">' + clonedCard.prop('outerHTML') + '</div>');
        }
      });
    });
  });
</script>

  </body>
</html>
